<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="generator" content="Observable Framework v1.11.0">
<title>D3 SVG shapes | Hello Framework</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="./_observablehq/theme-air,near-midnight.6e6037b3.css">
<link rel="preload" as="style" href="./_observablehq/stdlib/inputs.ea9fd553.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="./_observablehq/theme-air,near-midnight.6e6037b3.css">
<link rel="stylesheet" type="text/css" href="./_observablehq/stdlib/inputs.ea9fd553.css">
<link rel="modulepreload" href="./_observablehq/client.cc5c06ae.js">
<link rel="modulepreload" href="./_observablehq/runtime.c4c9c1af.js">
<link rel="modulepreload" href="./_observablehq/stdlib.b89f0aee.js">
<link rel="modulepreload" href="./_observablehq/stdlib/inputs.3a5e99d2.js">
<link rel="modulepreload" href="./_npm/d3@7.9.0/7055d4c5.js">
<link rel="modulepreload" href="./_npm/htl@0.3.1/063eb405.js">
<link rel="modulepreload" href="./_npm/isoformat@0.2.1/c68fbd73.js">
<link rel="modulepreload" href="./_npm/d3-array@3.2.4/e95f898e.js">
<link rel="modulepreload" href="./_npm/d3-axis@3.0.0/d44feff9.js">
<link rel="modulepreload" href="./_npm/d3-brush@3.0.0/5830b12a.js">
<link rel="modulepreload" href="./_npm/d3-chord@3.0.1/84d7b8e9.js">
<link rel="modulepreload" href="./_npm/d3-color@3.1.0/2c0cdfa2.js">
<link rel="modulepreload" href="./_npm/d3-contour@4.0.2/626bedc4.js">
<link rel="modulepreload" href="./_npm/d3-delaunay@6.0.4/00c41b5d.js">
<link rel="modulepreload" href="./_npm/d3-dispatch@3.0.1/b5f7cdc6.js">
<link rel="modulepreload" href="./_npm/d3-drag@3.0.0/b22c5864.js">
<link rel="modulepreload" href="./_npm/d3-dsv@3.0.1/407f7a1f.js">
<link rel="modulepreload" href="./_npm/d3-ease@3.0.1/6f15f633.js">
<link rel="modulepreload" href="./_npm/d3-fetch@3.0.1/ef1ec490.js">
<link rel="modulepreload" href="./_npm/d3-force@3.0.0/5e1ff060.js">
<link rel="modulepreload" href="./_npm/d3-format@3.1.0/5851d7ef.js">
<link rel="modulepreload" href="./_npm/d3-geo@3.1.1/dcd02767.js">
<link rel="modulepreload" href="./_npm/d3-hierarchy@3.1.2/f1db2593.js">
<link rel="modulepreload" href="./_npm/d3-interpolate@3.0.1/034b7bcb.js">
<link rel="modulepreload" href="./_npm/d3-path@3.1.0/4bb53638.js">
<link rel="modulepreload" href="./_npm/d3-polygon@3.0.1/bbafde58.js">
<link rel="modulepreload" href="./_npm/d3-quadtree@3.0.1/aa5b35a8.js">
<link rel="modulepreload" href="./_npm/d3-random@3.0.1/32c7fec2.js">
<link rel="modulepreload" href="./_npm/d3-scale@4.0.2/567840a0.js">
<link rel="modulepreload" href="./_npm/d3-scale-chromatic@3.1.0/cf9b720b.js">
<link rel="modulepreload" href="./_npm/d3-selection@3.0.0/5dcd62f4.js">
<link rel="modulepreload" href="./_npm/d3-shape@3.2.0/f8e03c56.js">
<link rel="modulepreload" href="./_npm/d3-time@3.1.0/5bc129e1.js">
<link rel="modulepreload" href="./_npm/d3-time-format@4.1.0/19c92b44.js">
<link rel="modulepreload" href="./_npm/d3-timer@3.0.1/f31b5398.js">
<link rel="modulepreload" href="./_npm/d3-transition@3.0.1/8debb4ba.js">
<link rel="modulepreload" href="./_npm/d3-zoom@3.0.0/4b0cc581.js">
<link rel="modulepreload" href="./_npm/internmap@2.0.3/5eed35fd.js">
<link rel="modulepreload" href="./_npm/delaunator@5.0.1/e67acb27.js">
<link rel="modulepreload" href="./_npm/robust-predicates@3.0.2/8ac9039b.js">
<link rel="icon" href="./_file/observable.1af93621.png" type="image/png" sizes="32x32">
<script type="module">

import {define} from "./_observablehq/client.cc5c06ae.js";

define({id: "0eff742c", outputs: ["Inputs"], body: async () => {
const Inputs = await import("./_observablehq/stdlib/inputs.3a5e99d2.js");

return {Inputs};
}});

define({id: "19875aee", inputs: ["view","Inputs","width","height"], outputs: ["A_posX","A_posY"], body: (view,Inputs,width,height) => {
// Create position Input Sliders:
const A_posX = view(Inputs.range([0, width], {step: 1, label: "X position", value: 50}));
const A_posY = view(Inputs.range([0, height], {step: 1, label: "Y position", value: 50})); 
return {A_posX,A_posY};
}});

define({id: "6a23bb7f", inputs: ["A_posX","A_posY","view"], outputs: ["SquareA","RayA"], body: (A_posX,A_posY,view) => {
// Define our SquareA object:
const SquareA = {
    width: 70,
    height: 70,
    x: A_posX,
    y: A_posY,

    get cx() {
        return this.x + this.width/2;
        },
    get cy() {
        return this.y + this.height/2;
        }
    };

view(SquareA);

// Define our Ray object:
const RayA = {
    pA: {x: 1, y: 1},
    pB: {x: SquareA.cx, y: SquareA.cy}
    }
return {SquareA,RayA};
}});

define({id: "8c83803c", inputs: ["d3","width","view"], outputs: ["height","svgCont1"], body: (d3,width,view) => {
// Define SVG Canvas:
const height = 300

const svgCont1 = d3.create("svg")
                .attr("width", width)
                .attr("height", height)
                .style("border", "1px dotted #fcba03");

view(svgCont1.node())
return {height,svgCont1};
}});

define({id: "317ad2c8", inputs: ["svgCont1","SquareA","RayA","view"], outputs: ["lineLength","rayPath","pathLength","rayMidpoint"], body: (svgCont1,SquareA,RayA,view) => {
// Draw our square:
svgCont1
    .selectAll("rect")
    .data([SquareA])
    .join("rect")
        .attr("width", 70)
        .attr("height", 70)
        .attr("x", d => d.x)
        .attr("y", d => d.y)
        .style("fill", "none")
        .style("stroke", "blue");

// Draw our ray:
svgCont1
    .selectAll("line")
    .data([SquareA])
    .join("line")
    .attr("x1", 10)
    .attr("y1", 10)
    .attr("x2", SquareA.cx) // or RayA.pB.x)
    .attr("y2", SquareA.cy)
    .style("fill", "none")
    .style("stroke-width", 2)
    .style("stroke", "orange");

// Draw our ray as a path:
svgCont1
    .selectAll("path")
    .data([RayA])
    .join("path")
    .attr("d", `M 10,10 L ${SquareA.cx},${RayA.pB.y}`)
    .style("fill", "none")
    .style("stroke-width", 6)
    .attr("stroke-dasharray", "4,10")
    .style("stroke", "red");


// We can now get the length of the line.
// If its a line we must use the Euclidian distance formula:
const lineLength = Math.sqrt((RayA.pB.x - RayA.pA.x) ** 2 + (RayA.pB.y - RayA.pA.y) ** 2);
view(lineLength);

// If its a path we can use the built in getTotalLength() function:
const rayPath = svgCont1.select("path").node()
const pathLength = rayPath.getTotalLength();
view(pathLength)

// Calculate ray midpoint:
const rayMidpoint = {
        x: (RayA.pA.x + RayA.pB.x) / 2,
        y: (RayA.pA.y + RayA.pB.y) / 2
        }

// Insert text at ray midpoint:
svgCont1
    .selectAll("text")
    .data([rayMidpoint])
    .join("text")
    .attr("x", rayMidpoint.x)
    .attr("y", rayMidpoint.y)
    .attr("dy", "-0.5em")  // Adjust vertical position slightly
    .attr("text-anchor", "right")  // Align to left
    .style("fill", "blue")
    .style("font-size", "16px")
    .style("font", "dejavu-sans")
    .text(`length: ${lineLength.toFixed(4)}`);
return {lineLength,rayPath,pathLength,rayMidpoint};
}});

define({id: "7c890d37", inputs: ["html","display"], body: async (html,display) => {
display(await(
html.fragment`<!-- Just some code trying to figure out dasharray relative to line legth.-->
<html>
  <body>
    <div>
      <svg>
        <line 
          x="100" y="10" x2="400" y2="0"
          pathLength="1000" 
          stroke-dasharray="50, 30, 10, 70" 
          stroke="#000"
          fill="none" />
      </svg>
    </div>
  </body>
</html>`
))
}});

define({id: "c14e93db", inputs: ["html","display"], body: async (html,display) => {
display(await(
html.fragment`<!-- Insert some plain SVG text -->
    <text
       xml:space="preserve"
       transform="scale(0.26458333)"
       id="text3"
       style="font-size:53.3333px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:sans-serif;letter-spacing:0px;word-spacing:0px;white-space:pre;shape-inside:url(#rect3);display:inline">
        <tspan x="146.33008" y="274.68161" id="tspan1">
            TheQuickBrownFox
        </tspan>
    </text>`
))
}});

</script>
<input id="observablehq-sidebar-toggle" type="checkbox" title="Toggle sidebar">
<label id="observablehq-sidebar-backdrop" for="observablehq-sidebar-toggle"></label>
<nav id="observablehq-sidebar">
  <ol>
    <label id="observablehq-sidebar-close" for="observablehq-sidebar-toggle"></label>
    <li class="observablehq-link"><a href="./">Hello Framework</a></li>
  </ol>
  <ol>
    <li class="observablehq-link"><a href="./canvas">Canvas</a></li>
    <li class="observablehq-link"><a href="./canvas2">Canvas2-streamlined</a></li>
    <li class="observablehq-link"><a href="./clean">Only basic canvas and shapes.</a></li>
    <li class="observablehq-link"><a href="./d3_focal_length">D3 Focal Length</a></li>
    <li class="observablehq-link observablehq-link-active"><a href="./d3_svg">D3 SVG shapes</a></li>
    <li class="observablehq-link"><a href="./example-dashboard">Example dashboard</a></li>
    <li class="observablehq-link"><a href="./example-report">Example report</a></li>
    <li class="observablehq-link"><a href="./gpt">Color Picker and Rectangle</a></li>
    <li class="observablehq-link"><a href="./linked_sliders">Linked Sliders (Co-dependant Inputs)</a></li>
    <li class="observablehq-link"><a href="./reactivity">Inputs Reactivity</a></li>
    <li class="observablehq-link"><a href="./svg_flatten">Flatten.js</a></li>
    <li class="observablehq-link"><a href="./testpage">This is a test page</a></li>
    <li class="observablehq-link"><a href="./three_methods">Three Methods</a></li>
    <li class="observablehq-link"><a href="./weather">Weather report</a></li>
    <li class="observablehq-link"><a href="./D3_course/D3_Part1">D3 Part1</a></li>
    <li class="observablehq-link"><a href="./D3_course/D3_Part2">D3 Part2</a></li>
    <li class="observablehq-link"><a href="./D3_course/D3_Part3">D3 Part3</a></li>
    <li class="observablehq-link"><a href="./color_scales/color_scales">D3 Color Scales &amp; schemes</a></li>
    <li class="observablehq-link"><a href="./dataviz/metapi">Metropolitan Museum of Art API</a></li>
    <li class="observablehq-link"><a href="./flatten.js/flatten_gettingStarted">Flatten Getting Started</a></li>
    <li class="observablehq-link"><a href="./lenses_optics/focal_length">Notes on Lens Optics</a></li>
    <li class="observablehq-link"><a href="./color/src/61eaf3946c8b51f0">Color</a></li>
    <li class="observablehq-link"><a href="./dataviz/WikiData/wikidata-api">Wiki Data API</a></li>
  </ol>
</nav>
<script>{Object.assign(document.createElement("a"),{href:""}).password&&location.replace(location.href);const e=document.querySelector("#observablehq-sidebar"),t=document.querySelector("#observablehq-sidebar-toggle"),r=sessionStorage.getItem("observablehq-sidebar");r?t.checked=r==="true":t.indeterminate=!0;for(const o of document.querySelectorAll("#observablehq-sidebar summary")){const s=o.parentElement;switch(sessionStorage.getItem(`observablehq-sidebar:${o.textContent}`)){case"true":s.open=!0;break;case"false":s.classList.contains("observablehq-section-active")||(s.open=!1);break}}addEventListener("beforeunload",()=>sessionStorage.setItem("observablehq-sidebar-scrolly",`${e.scrollTop}`));const a=sessionStorage.getItem("observablehq-sidebar-scrolly");a!=null&&(e.style.cssText="overflow: hidden;",e.scrollTop=+a,e.style.cssText="");}</script>
<aside id="observablehq-toc" data-selector="h1:not(:first-of-type)[id], h2:first-child[id], :not(h1) + h2[id]">
<nav>
</nav>
</aside>
<div id="observablehq-center">
<main id="observablehq-main" class="observablehq">
<h1 id="d3-svg-shapes" tabindex="-1"><a class="observablehq-header-anchor" href="#d3-svg-shapes">D3 SVG shapes</a></h1>
<div class="observablehq observablehq--block"><!--:0eff742c:--></div>
<div class="observablehq observablehq--block"><!--:19875aee:--></div>
<div class="observablehq observablehq--block"><!--:6a23bb7f:--></div>
<div class="observablehq observablehq--block"><!--:8c83803c:--></div>
<div class="observablehq observablehq--block"><!--:317ad2c8:--></div>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:7c890d37:--></div>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:c14e93db:--></div>
</main>
<footer id="observablehq-footer">
<nav><a rel="prev" href="./d3_focal_length"><span>D3 Focal Length</span></a><a rel="next" href="./example-dashboard"><span>Example dashboard</span></a></nav>
<div>Built with <a href="https://observablehq.com/" target="_blank" rel="noopener noreferrer">Observable</a> on <a title="2025-03-14T14:26:55">Mar 14, 2025</a>.</div>
</footer>
</div>
